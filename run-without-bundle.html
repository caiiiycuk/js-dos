<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-10-03T11:04:49.3261717"><script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(27763311, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script><title>Run without bundle | js-dos</title><script type="application/json" id="virtual-toc-data">[{"id":"provide-dosbox-conf-directly","level":0,"title":"Provide dosbox.conf directly","anchor":"#provide-dosbox-conf-directly"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo-16.png"><link rel="icon" type="image/png" sizes="32x32" href="images/logo-32.png"><link rel="icon" type="image/png" sizes="96x96" href="images/logo-192.png"><link rel="icon" type="image/png" sizes="300x300" href="images/logo-512.png"><meta name="image" content="https://js-dos.com/images/seo.jpg"><!-- Open Graph --><meta property="og:title" content="Run without bundle | js-dos"><meta property="og:description" content=""><meta property="og:image" content="https://js-dos.com/images/seo.jpg"><meta property="og:site_name" content="js-dos Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://js-dos.com//8.xx/run-without-bundle.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@caiiiycuk"><meta name="twitter:title" content="Run without bundle | js-dos"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@caiiiycuk"><meta name="twitter:image:src" content="https://js-dos.com/images/seo.jpg"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://js-dos.com//8.xx/run-without-bundle.html#webpage",
    "url": "https://js-dos.com//8.xx/run-without-bundle.html",
    "name": "Run without bundle | js-dos",
    "description": "",
    "image": "https://js-dos.com/images/seo.jpg",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://js-dos.com/#website",
    "url": "https://js-dos.com/",
    "name": "js-dos Help"
}</script><!-- End Schema.org --></head><body data-id="run-without-bundle" data-main-title="Run without bundle" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Overview.md|js-dos///Advanced-Topics.md|Advanced Topics"><noscript><div><img src="https://mc.yandex.ru/watch/27763311" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>js-dos 8.xx Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="run-without-bundle" id="run-without-bundle.md">Run without bundle</h1><p id="bjt9h4_3">As explained in other topics, the bundle is a preferred way to run DOS program. Bundle can contain much more configuration that DOSBox excepts, for example, mobile controls, resources, etc.</p><aside class="prompt" data-type="warning" data-title="" id="bjt9h4_4"><p id="bjt9h4_6">If you are looking at the recommended and correct way to run DOS program just create <a href="jsdos-bundle.html" id="bjt9h4_7" data-tooltip="If you are looking way to run your favorite game in browser, but do not want to develop website, then please create bundle for it using this guide, and send request to publis it on dos.zone">bundle</a> for it.</p></aside><section class="chapter"><h2 id="provide-dosbox-conf-directly" data-toc="provide-dosbox-conf-directly">Provide dosbox.conf directly</h2><p id="bjt9h4_8">js-dos can work without a bundle, but at least it needs a DOSBox config file to start. You can create js-dos player by providing config using javascript:</p><div class="code-block" data-lang="javascript">
Dos(document.getElementById(&quot;app&quot;), {
  dosboxConf: `
    [autoexec]
    mount c .
    c:
  `,
  onEvent: (event, ci) =&gt; {
    if (event === &quot;ci-ready&quot;) {
        // ci: [[[CommandIterface|command-interface.html]]] is ready
    }
  },
});
</div><p id="bjt9h4_10">Additionally, you can provide <code class="code" id="bjt9h4_20">jsdos.json</code> configuration, for example, here we start js-dos with one virtual button.</p><div class="code-block" data-lang="javascript">
Dos(document.getElementById(&quot;app&quot;), {
  dosboxConf: `
    [autoexec]
    mount c .
    c:
  `,
  jsdosConf: {
    &quot;layersConfig&quot;: {
      &quot;version&quot;: 2,
      &quot;layers&quot;: [
        {
          &quot;grid&quot;: &quot;honeycomb&quot;,
          &quot;title&quot;: &quot;Layer#0&quot;,
          &quot;controls&quot;: [
            {
              &quot;row&quot;: 0,
              &quot;column&quot;: 0,
              &quot;symbol&quot;: &quot;↑&quot;,
              &quot;type&quot;: &quot;Key&quot;,
              &quot;mapTo&quot;: [
                265
              ]
            }
          ]
        }
      ]
    }
  },
});
</div><p id="bjt9h4_12">Having config allows you to start DOSBox / DOSBox-X, but it is not very useful without a program to run. To init FS before emulation starts, you need to use <code class="code" id="bjt9h4_21">initFs</code> property. It's a sequence of files, in the following format:</p><div class="code-block" data-lang="javascript">
  initFs: [
    { path: string, contents: Uint8Array },
    ...
  ],
</div><p id="bjt9h4_14">Where <code class="code" id="bjt9h4_22">path</code> is a full path to file, <code class="code" id="bjt9h4_23">contents</code> is a body of file.</p><p id="bjt9h4_15">Using the following snippet you will create two files:</p><ul class="list _bullet" id="bjt9h4_16"><li class="list__item" id="bjt9h4_24"><p><span class="emphasis" id="bjt9h4_26">1.txt</span> with contents <span class="emphasis" id="bjt9h4_27">&quot;123&quot;</span></p></li><li class="list__item" id="bjt9h4_25"><p><span class="emphasis" id="bjt9h4_28">2.txt</span> in directory <span class="emphasis" id="bjt9h4_29">D</span> with contents <span class="emphasis" id="bjt9h4_30">&quot;345&quot;</span></p></li></ul><div class="code-block" data-lang="javascript">
Dos(document.getElementById(&quot;app&quot;), {
  dosboxConf: `
    [autoexec]
    mount c .
    c:
  `,
  initFs: [
    { path: &quot;1.txt&quot;, contents: new TextEncoder().encode(&quot;123&quot;) },
    { path: &quot;D/2.txt&quot;, contents: new TextEncoder().encode(&quot;345&quot;) },
  ],
  onEvent: (event, ci) =&gt; {
    if (event === &quot;ci-ready&quot;) {
        // ci: [[[CommandIterface|command-interface.html]]] is ready
    }
  },
});
</div><p id="bjt9h4_18">Now when you run it, you can check your files with <code class="code" id="bjt9h4_31">TYPE</code> command:</p><figure id="bjt9h4_19"><img alt="Init fs" src="images/initFs.jpg" title="Init fs" width="423" height="247"></figure></section><div class="last-modified">Last modified: 03 октября 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="working-with-fs.html" class="navigation-links__prev">Working with File System</a><a href="multiple-instances.html" class="navigation-links__next">Multiple Instances</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>